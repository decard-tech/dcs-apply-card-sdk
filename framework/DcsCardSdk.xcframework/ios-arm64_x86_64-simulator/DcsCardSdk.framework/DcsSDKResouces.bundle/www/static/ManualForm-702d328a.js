var Fe=Object.defineProperty,Ie=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var ie=(t,r,s)=>r in t?Fe(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,$=(t,r)=>{for(var s in r||(r={}))se.call(r,s)&&ie(t,s,r[s]);if(G)for(var s of G(r))ne.call(r,s)&&ie(t,s,r[s]);return t},oe=(t,r)=>Ie(t,Se(r));var de=(t,r)=>{var s={};for(var d in t)se.call(t,d)&&r.indexOf(d)<0&&(s[d]=t[d]);if(t!=null&&G)for(var d of G(t))r.indexOf(d)<0&&ne.call(t,d)&&(s[d]=t[d]);return s};var Q=(t,r,s)=>new Promise((d,m)=>{var h=c=>{try{n(s.next(c))}catch(_){m(_)}},x=c=>{try{n(s.throw(c))}catch(_){m(_)}},n=c=>c.done?d(c.value):Promise.resolve(c.value).then(h,x);n((s=s.apply(t,r)).next())});import{r as b,a5 as S,a6 as ve,a7 as Ae,a8 as Oe,a9 as Le,aa as ke,a0 as C,e,ab as B,u as O,a as _e,j as a,f as i,g as l,I as g,F as o,p as ee,J as M,ac as he,k as F,K as p,b as fe,B as P,a1 as A,a3 as pe,ad as Te,h as je,O as Ee,M as $e,$ as Pe,t as Y,R as Ve}from"./index-6964e077.js";import{S as qe}from"./index-77d49db2.js";import{S as D}from"./index-750b0c13.js";import{M as Re,D as Ye,O as De}from"./OTPInputPanel-6dedce77.js";import{D as k,M as ce,S as Me,F as ze}from"./myinfoform-bf2f482c.js";import{C as v}from"./card-5ffd29b5.js";import{D as te}from"./index-f481c4e9.js";import{T as W}from"./index-d3e2c369.js";import{G as Ue,T as me,U as j}from"./Upload-16471bb3.js";import{C as H}from"./index-400527c4.js";import{R as V}from"./index-39ddfd98.js";import"./search-bar-18f27248.js";import"./index-e7539114.js";import"./ResizeObserver.es-b51b3958.js";import"./native-input-fa1ff988.js";const Ge=(t={})=>b.useMemo(()=>{const{label:s="label",value:d="value",disabled:m="disabled",children:h="children"}=t;return[s,d,h,m]},[JSON.stringify(t)]);const We=b.memo(()=>S.createElement("svg",{width:"17px",height:"13px",viewBox:"0 0 17 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},S.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},S.createElement("g",{transform:"translate(-2832.000000, -1103.000000)",stroke:"#FFFFFF",strokeWidth:"3"},S.createElement("g",{transform:"translate(2610.000000, 955.000000)"},S.createElement("g",{transform:"translate(24.000000, 91.000000)"},S.createElement("g",{transform:"translate(179.177408, 36.687816)"},S.createElement("polyline",{points:"34.2767388 22 24.797043 31.4796958 21 27.6826527"})))))))),E="adm-selector",Be={multiple:!1,defaultValue:[],showCheckMark:!0},He=t=>{const r=ve(Be,t),[s,d,,m]=Ge(r.fieldNames),[h,x]=Ae({value:r.value,defaultValue:r.defaultValue,onChange:_=>{var N;const w={get items(){return r.options.filter(q=>_.includes(q[d]))}};(N=r.onChange)===null||N===void 0||N.call(r,_,w)}}),{locale:n}=Oe(),c=r.options.map(_=>{const N=(h||[]).includes(_[d]),w=_[m]||r.disabled,q=Le(`${E}-item`,{[`${E}-item-active`]:N&&!r.multiple,[`${E}-item-multiple-active`]:N&&r.multiple,[`${E}-item-disabled`]:w});return S.createElement("div",{key:_[d],className:q,onClick:()=>{if(!w)if(r.multiple){const R=N?h.filter(z=>z!==_[d]):[...h,_[d]];x(R)}else{const R=N?[]:[_[d]];x(R)}},role:"option","aria-selected":N&&!r.multiple||N&&r.multiple},_[s],_.description&&S.createElement("div",{className:`${E}-item-description`},_.description),N&&r.showCheckMark&&S.createElement("div",{className:`${E}-check-mark-wrapper`},S.createElement(We,null)))});return ke(r,S.createElement("div",{className:E,role:"listbox","aria-label":n.Selector.name},r.columns?S.createElement(Ue,{columns:r.columns},c):S.createElement(C,{wrap:!0},c)))},X=d=>{var m=d,{value:t,onChange:r}=m,s=de(m,["value","onChange"]);const[h,x]=b.useState(),n=_=>{r==null||r(_)},c=_=>{n(_[0])};return b.useEffect(()=>{t&&x([t])},[t]),e(He,$({style:{"--border-radius":"100px","--border":"solid transparent 1px","--checked-border":"solid var(--adm-color-primary) 1px","--padding":"6px 20px"},options:B("GENDER"),value:h,onChange:c},s))},Ze=b.memo(()=>{var h,x;const{userMobile:t}=O(n=>n.app),{manualData:r,appliedCards:s}=O(n=>n.cardApply),d=_e(),m=b.useMemo(()=>{var n;return s[0]&&((n=s[0].productList[0])==null?void 0:n.tenCardsFlag)},[s]);return console.log("manualData",r),r?a(v,{title:e(i,{id:"apply_form_personal_info"}),className:"p-0 rounded-lg text-xs",headerClassName:"px-5",children:[a(C,{direction:"vertical",block:!0,className:"p-5 shadow-lg rounded-lg",children:[e(o.Item,{name:"custName",label:e(i,{id:"apply_upgrade_full_name"}),help:l("apply_upgrade_full_name_sub"),rules:[{required:!0},{pattern:/^[A-Za-z-_ ]*$/,message:l("rule_alphabets_spaces_hyphens")}],initialValue:r.custName,children:e(g,{maxLength:66,placeholder:l("apply_form_please_enter")+l("apply_upgrade_full_name")})}),e(o.Item,{name:"gender",label:e(i,{id:"apply_form_gender"}),rules:[{required:!0}],initialValue:r.gender,normalize:n=>n[0],children:e(X,{options:B("GENDER")})}),e(o.Item,{name:"birthDate",label:e(i,{id:"apply_form_date_of_birth"}),trigger:"onConfirm",onClick:(n,c)=>{var _;(_=c.current)==null||_.open()},rules:[{required:!0}],initialValue:r.birthDate?new Date(r.birthDate):void 0,children:e(te,{min:ee().subtract(100,"year").toDate(),max:new Date,children:n=>e("div",{className:`adm-input ${n?"text-default":"text-minor"}`,children:n?e(M,{value:n}):l("apply_form_please_enter")+l("apply_form_date_of_birth")})})}),!m&&e(o.Item,{name:"maritalStatus",label:e(i,{id:"apply_form_maritial_status"}),rules:[{required:!0}],initialValue:r.maritalStatus,normalize:n=>n[0],children:e(X,{columns:4,options:B("MARITAL_STATUS")})})]}),a("div",{style:{background:"rgb(246, 248, 251)"},children:[e(p,{id:"apply_upgrade_residence_status",className:"ml-3 pt-5 pb-3"}),a(W,{className:"bg-white cust-tab",onChange:n=>{console.log("onChangeonChangeonChange",n),d(he({residentialStatus:n}))},defaultActiveKey:r.residentialStatus,children:[e(W.Tab,{title:l("apply_form_singaporean")},"C"),e(W.Tab,{title:l("apply_guide_singapore_pr")},"P"),e(W.Tab,{title:l("apply_form_race_others")},"A")]})]}),a(C,{direction:"vertical",block:!0,className:"px-5 pb-5 bg-white shadow-lg rounded-lg",children:[["C","P"].includes(r.residentialStatus||"")&&e(F,{children:e(o.Item,{name:"icNumber",label:e(i,{id:"apply_upgrade_NRIC"}),rules:[{required:!0},{pattern:/^[a-zA-Z0-9]*$/,message:l("rule_alphabets_numbers")}],initialValue:r.icNumber,children:e(g,{maxLength:66,placeholder:l("apply_form_please_enter")+l("apply_upgrade_NRIC")})})}),["P","A"].includes(r.residentialStatus||"")&&e(o.Item,{name:"nationality",label:e(i,{id:"apply_form_nationality"}),rules:[{required:!0}],initialValue:r.nationality,normalize:n=>n[0],children:e(k,{dictType:"COUNTRY_CODE_ISO2"})}),["A"].includes(r.residentialStatus||"")&&a(F,{children:[e(o.Item,{name:"passport",label:e(i,{id:"apply_form_passport_num"}),rules:[{required:!0},{pattern:/^[a-zA-Z0-9]*$/,message:l("rule_alphabets_numbers")}],initialValue:r.passport,children:e(g,{maxLength:25,placeholder:l("apply_form_please_enter")+l("apply_upgrade_NRIC")})}),e(o.Item,{name:"passportExpiryDate",label:e(i,{id:"apply_form_passport_expiry_date"}),trigger:"onConfirm",onClick:(n,c)=>{var _;(_=c.current)==null||_.open()},rules:[{required:!0}],initialValue:r.passportExpiryDate?new Date(r.passportExpiryDate):void 0,children:e(te,{children:n=>e("div",{className:`adm-input ${n?"text-default":"text-minor"}`,children:n?e(M,{value:n}):l("apply_form_please_enter")+l("apply_form_passport_expiry_date")})})}),e(o.Item,{name:"homeCountryIdType",label:e(i,{id:"apply_upgrade_home_country_type"}),rules:[{required:!0}],initialValue:r.homeCountryIdType,children:e(X,{columns:2,options:B("HOME_COUNTRY_ID_TYPE")})}),e(o.Item,{name:"homeCountryIdNumber",label:e(i,{id:"apply_upgrade_home_country_num"}),rules:[{required:!0},{pattern:/^[a-zA-Z0-9-_ ]*$/,message:l("rule_alphabets_numbers_spaces")}],initialValue:r.homeCountryIdNumber,children:e(g,{maxLength:20,placeholder:l("apply_form_please_enter")+l("apply_upgrade_home_country_num")})})]})]}),e("div",{style:{background:"rgb(246, 248, 251)",height:"20px"}}),a(C,{block:!0,direction:"vertical",className:"px-5 pb-5 rounded-lg",children:[e(o.Item,{name:"email",label:e(i,{id:"apply_form_email"}),rules:[{required:!0,type:"email"}],initialValue:r.email,children:e(g,{maxLength:320,placeholder:l("apply_form_please_enter")+l("apply_form_email")})}),e(o.Item,{name:"mobile",label:e(i,{id:"apply_form_mobile_phone"}),rules:[{required:!0,validator:(n,c)=>{if(c!=null&&c.phone){if(c.areaCode==="+65"&&!/^[0-9]{8}$/.test(c.phone))return Promise.reject(l("rule_digits",{string:"8"}));if(c.areaCode==="+86"&&!/^[0-9]{11}$/.test(c.phone))return Promise.reject(l("rule_digits",{string:"11"}));if(!/^[0-9]{8,20}$/.test(c.phone))return Promise.reject(l("rule_digits",{string:"8-20"}))}return Promise.resolve()}}],initialValue:{areaCode:((h=(r==null?void 0:r.mobile)||t)==null?void 0:h.split(" ")[0])||"+65",phone:((x=(r==null?void 0:r.mobile)||t)==null?void 0:x.split(" ")[1])||""},children:e(Re,{})})]})]}):e(F,{})}),Je=b.memo(()=>{var h,x;const{manualData:t,appliedCards:r}=O(n=>n.cardApply),s=O(n=>n.user),d=fe();b.useMemo(()=>({0:l("status_submitted"),1:l("status_processing"),2:l("status_approved"),3:l("status_supporting_documents"),4:l("status_rejected"),5:l("status_cancel")}),[]),console.log("appliedCards",r);const m=!!((x=(h=r[0])==null?void 0:h.productList[0])!=null&&x.tenCardsFlag);return t?a(C,{direction:"vertical",block:!0,children:[e(v,{title:a("div",{className:"flex justify-between items-center text-sm",children:[e(i,{id:"apply_form_declaration_particulars"}),e(P,{color:"primary",fill:"none",className:"text-xs font-normal",onClick:()=>{d("/manual/0?back=true")},children:e(i,{id:"apply_form_declaration_edit"})})]}),className:"p-0 rounded-lg",headerClassName:"px-5",children:a(C,{direction:"vertical",block:!0,className:"px-5",children:[a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_name"}),e("span",{className:"w-2/4 text-xs text-right",children:t.custName})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_gender"}),e("span",{className:"w-2/4 text-xs text-right",children:A("GENDER",t.gender)})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_date_of_birth"}),e("span",{className:"w-2/4 text-xs text-right",children:e(M,{value:t.birthDate})})]}),!m&&a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_maritial_status"}),e("span",{className:"w-2/4 text-xs text-right",children:A("MARITAL_STATUS",t==null?void 0:t.maritalStatus)})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_upgrade_residence_status"}),e("span",{className:"w-2/4 text-xs text-right",children:A("RESIDENTIAL_STATUS_V2",t.residentialStatus)})]}),["C","P"].includes((t==null?void 0:t.residentialStatus)||"")&&a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_NRIC_FIN"}),e("span",{className:"w-2/4 text-xs text-right",children:t.icNumber})]}),["A","P"].includes((t==null?void 0:t.residentialStatus)||"")&&a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_nationality"}),e("span",{className:"w-2/4 text-xs text-right",children:A("COUNTRY_CODE_ISO2",t==null?void 0:t.nationality)})]}),["A"].includes(t.residentialStatus||"")&&a(F,{children:[a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_passport_num"}),e("span",{className:"w-2/4 text-xs text-right",children:t.passport})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_passport_expiry_date"}),e("span",{className:"w-2/4 text-xs text-right",children:e(M,{value:t.passportExpiryDate})})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_upgrade_home_country_type"}),e("span",{className:"w-2/4 text-xs text-right",children:A("HOME_COUNTRY_ID_TYPE",t==null?void 0:t.homeCountryIdType)})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_upgrade_home_country_num"}),e("span",{className:"w-2/4 text-xs text-right",children:t.homeCountryIdNumber})]})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_email"}),e("span",{className:"w-2/4 text-xs text-right",children:t.email})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_mobile_phone"}),e("span",{className:"w-2/4 text-xs text-right",children:t.mobile})]})]})}),e(v,{title:a("div",{className:"flex justify-between items-center text-sm",children:[e(i,{id:"apply_upgrade_address_info"}),e(P,{color:"primary",fill:"none",className:"text-xs font-normal",onClick:()=>{d("/manual/1?back=true")},children:e(i,{id:"apply_form_declaration_edit"})})]}),className:"p-0 rounded-lg ",headerClassName:"px-5",children:a(C,{direction:"vertical",block:!0,className:"px-5",children:[a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_residential_addr"}),e("span",{className:"w-2/4 text-xs text-right",children:ue(t==null?void 0:t.residentAddress)})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_mailing_addr"}),e("span",{className:"w-2/4 text-xs text-right",children:ue(t==null?void 0:t.billingAddress)})]})]})}),!m&&e(v,{title:a("div",{className:"flex justify-between items-center text-sm",children:[e(i,{id:"apply_upgrade_other_info"}),e(P,{color:"primary",fill:"none",className:"text-xs font-normal",onClick:()=>{d("/manual/2-1?back=true")},children:e(i,{id:"apply_form_declaration_edit"})})]}),className:"p-0 rounded-lg ",headerClassName:"px-5",children:a(C,{direction:"vertical",block:!0,className:"px-5",children:[a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_self_employed"}),e("span",{className:"w-2/4 text-xs text-right capitalize",children:t.selfEmployment})]}),t.selfEmployment==="N"&&a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_employer"}),e("span",{className:"w-2/4 text-xs text-right capitalize",children:t.companyName})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_job_industry"}),e("span",{className:"w-2/4 text-xs text-right capitalize",children:A("JOB_INDUSTRY",t.jobIndustry)})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_occupation"}),e("span",{className:"w-2/4 text-xs text-right capitalize",children:A("PROFESSION",t.profession)})]}),t.jobSeniorityList&&t.jobSeniorityList.length>0?a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_job_seniority_title"}),e("span",{className:"w-2/4 text-xs text-right break-words capitalize",children:t.jobSeniorityList.map(n=>A("JOB_SENIORITY_LIST",n)).join(", ")})]}):null,a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_length_of_employment_b"}),a("span",{className:"w-2/4 text-xs text-right capitalize",children:[t.serviceYears,l("apply_form_years"),"  ",t.serviceMonths,l("apply_form_months")]})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_gross_annual_income"}),e("span",{className:"w-2/4 text-xs text-right capitalize",children:e(pe,{value:Number(t.incomeYear),style:"currency",currency:"SGD"})})]}),t.purposeOfAccountList&&t.purposeOfAccountList.length>0?a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_account_purpose_title"}),e("span",{className:"w-2/4 text-xs text-right break-words capitalize",children:t.purposeOfAccountList.map(n=>A("PURPOSE_OF_ACCOUNT_LIST",n)).join(", ")})]}):null,t.sourceOfFundsList&&t.sourceOfFundsList.length>0?a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_source_of_funds"}),e("span",{className:"w-2/4 text-xs text-right break-words capitalize",children:t.sourceOfFundsList.map(n=>A("SOURCE_OF_FUNDS_LIST",n)).join(", ")})]}):null,t.sourceOfFundsCountryList&&t.sourceOfFundsCountryList.length>0?a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_source_of_funds_country"}),e("span",{className:"w-2/4 text-xs text-right break-words capitalize",children:t.sourceOfFundsCountryList.map(n=>A("SOURCE_OF_FUNDS_COUNTRY_LIST",n)).join(", ")})]}):null,t.sourceOfWealthList&&t.sourceOfWealthList.length>0?a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_source_of_wealth"}),e("span",{className:"w-2/4 text-xs text-right break-words capitalize",children:t.sourceOfWealthList.map(n=>A("SOURCE_OF_WEALTH_LIST",n)).join(", ")})]}):null]})}),["identityFiles","passportFiles","incomeProofFiles","addressProofFiles","studentIdFiles","parentConsentFiles","otherDetailsFiles"].find(n=>{var c;return t&&((c=t[n])==null?void 0:c.length)})&&e(v,{title:a("div",{className:"flex justify-between items-center text-sm",children:[e(i,{id:"apply_form_upload_docs"}),e(P,{color:"primary",fill:"none",className:"text-xs font-normal",onClick:()=>{d("/manual/2-2?back=true")},children:e(i,{id:"apply_form_declaration_edit"})})]}),className:"p-0 rounded-lg ",headerClassName:"px-5",children:e(C,{direction:"vertical",block:!0,className:"px-5",children:["identityFiles","passportFiles","incomeProofFiles","addressProofFiles","studentIdFiles","parentConsentFiles","otherDetailsFiles"].filter(n=>{var c;return(c=t[n])==null?void 0:c.length}).map(n=>e(Ke,{title:l(`apply_manual_upload_${n}`),data:t[n]},n))})}),e(v,{title:a("div",{className:"flex justify-between items-center text-sm",children:[e(i,{id:"apply_form_card_personalization"}),e(P,{color:"primary",fill:"none",className:"text-xs font-normal",onClick:()=>{d("/manual/3?back=true")},children:e(i,{id:"apply_form_declaration_edit"})})]}),className:"p-0 rounded-lg ",headerClassName:"px-5",children:a(C,{direction:"vertical",block:!0,className:"px-5",children:[a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_credit_lit_preference"}),e("span",{className:"w-2/4 text-xs text-right capitalize",children:(t==null?void 0:t.determineLimitFlag)==="N"?e(pe,{value:Number(t.preCreditLimit),style:"currency",currency:"SGD"}):e(i,{id:"apply_form_let_dcs_determine"})})]}),a("div",{className:"flex justify-between items-center",children:[e(p,{className:"text-minor text-xs",id:"apply_form_name_on_card"}),e("span",{className:"w-2/4 text-xs text-right capitalize",children:t.preNameOnCard})]})]})}),e(v,{title:e("div",{children:e(i,{id:"apply_form_declaration_consent_title"})}),children:a(C,{direction:"vertical",block:!0,children:[e(o.Item,{name:"dncFlag",children:e(H,{children:a("p",{className:"ml-3",children:[" ",l("apply_form_declaration_1a")]})})}),e(o.Item,{name:"usaTaxResident",children:e(H,{children:a("p",{className:"ml-3",children:[l("apply_form_declaration_3a"),e("br",{}),l("apply_form_declaration_3b"),e("br",{}),l("apply_form_declaration_3c")]})})}),e(o.Item,{name:"pdpaFlag",rules:[{validator:(n,c)=>c?Promise.resolve():Promise.reject(new Error(l("apply_form_please_check")))}],children:e(H,{children:a("div",{className:"ml-3",children:[e("span",{className:"text-red",children:"*"}),e(i,{id:"apply_form_authorization_text2"}),e("a",{href:s.dcsCardDeclaration||"https://cards.dcscc.com/card-declaration",className:"text-blue",children:e(i,{id:"apply_form_dcs_charge_credit1"})}),e(i,{id:"apply_form_dcs_and"}),e("a",{href:s.cardsTermsConditions||"https://dcscc.com/legal/cards-tnc",className:"text-blue ",children:e(i,{id:"apply_form_conditions"})}),m&&a(F,{children:[e(i,{id:"apply_form_dcs_and"}),e("a",{href:s.dcsAccConditionsTerms||"https://dcscc.com/legal/d-vault-tnc",className:"text-blue ",children:e(i,{id:"apply_guide_lite_va_conditions"})})]}),e(i,{id:"apply_form_application"})]})})})]})})]}):e(F,{})}),ue=t=>{if(!t)return"-";if(t.country==="SG")return`${t.block} ${t.street} # ${t.floor}-${t.unit} ${t.building||"-"} ${t.country} (${t.postal})`;if(t!=null&&t.line1)return`${t.line1} ${t==null?void 0:t.line2}`},Ke=({title:t,data:r})=>a("div",{className:"flex justify-between text-xs",children:[e("span",{children:t}),e("div",{children:r==null?void 0:r.map((s,d)=>e("p",{className:"text-blue",children:s.attachedName},d))})]}),Qe=b.memo(()=>{const{manualData:t}=O(r=>r.cardApply);return t?e(v,{headerClassName:"px-5",title:e("div",{children:e(p,{id:"apply_upgrade_occupation_income"})}),className:"p-0 rounded-lg",children:a(C,{direction:"vertical",block:!0,className:"px-5",children:[e(o.Item,{name:"selfEmployment",rules:[{required:!0}],initialValue:t.selfEmployment==="Y",children:e(H,{defaultChecked:t.selfEmployment==="Y",children:e(i,{id:"apply_form_i_am_self_employed"})})}),e(o.Subscribe,{to:["selfEmployment"],children:({selfEmployment:r})=>{if(console.log("selfEmployment",r),!r)return e(o.Item,{name:"companyName",label:e(i,{id:"apply_form_employer"}),rules:[{required:!0},{pattern:/^[A-Za-z-_ ]*$/,message:l("rule_alphabets_spaces_hyphens")}],children:e(g,{maxLength:80,autoCapitalize:"characters",placeholder:l("apply_form_please_enter")+l("apply_form_employer")})})}}),e(o.Item,{name:"jobIndustry",label:e(i,{id:"apply_form_job_industry"}),rules:[{required:!0}],initialValue:t.jobIndustry,children:e(k,{dictType:"JOB_INDUSTRY"})}),e(o.Item,{name:"profession",label:e(i,{id:"apply_form_occupation"}),rules:[{required:!0}],initialValue:t.profession,children:e(k,{dictType:"PROFESSION"})}),e(o.Item,{name:"jobSeniorityList",label:e(i,{id:"apply_form_job_seniority_title"}),rules:[{required:!0}],initialValue:t.jobSeniorityList?[t.jobSeniorityList]:null,children:e(k,{dictType:"JOB_SENIORITY_LIST",placeholder:l("apply_form_please_choose")})}),e(o.Item,{name:"yearsWorking",trigger:"onConfirm",label:e(i,{id:"apply_form_length_of_employment"}),rules:[{required:!0}],initialValue:[t.serviceYears,t.serviceMonths],onClick:(r,s)=>{var d;(d=s.current)==null||d.open()},children:e(Te,{columns:[new Array(99).fill(1).map((r,s)=>({label:`${++s} ${l("apply_form_years")}`,value:s})),new Array(12).fill(1).map((r,s)=>({label:`${s} ${l("apply_form_months")}`,value:s}))],children:r=>(console.log("valuevalue",r),a("div",{className:"adm-input flex justify-between",style:{color:r.length?"#25435f":"#909daa"},children:[e("span",{children:r.length?r.map(s=>s==null?void 0:s.label).join(" "):l("apply_form_please_choose")}),e(Ye,{color:"#000",fontSize:12})]}))})}),e(o.Item,{name:"incomeYear",label:a("p",{children:[e(i,{id:"apply_form_gross_annual_income"}),"(S$)"]}),rules:[{required:!0},{pattern:/^([1-9]{1}\d*)(\.\d{1,2})?$/,message:l("rule_invalid_input")}],initialValue:Xe(t.incomeYear),children:e(g,{maxLength:10,autoCapitalize:"characters",placeholder:l("apply_form_please_enter")+l("apply_form_gross_annual_income")})}),e(o.Item,{name:"purposeOfAccountList",label:e(i,{id:"apply_form_account_purpose_title"}),rules:[{required:!0}],initialValue:t.purposeOfAccountList?[t.purposeOfAccountList]:null,children:e(k,{dictType:"PURPOSE_OF_ACCOUNT_LIST",placeholder:l("apply_form_please_choose")})}),e(o.Item,{name:"sourceOfFundsList",label:e(i,{id:"apply_form_source_of_funds_title"}),rules:[{required:!0}],initialValue:t.sourceOfFundsList?[t.sourceOfFundsList]:null,children:e(ce,{dictType:"SOURCE_OF_FUNDS_LIST",placeholder:l("apply_form_please_choose")})}),e(o.Item,{name:"sourceOfFundsCountryList",label:e(i,{id:"apply_form_source_of_funds_country"}),rules:[{required:!0}],initialValue:t.sourceOfFundsCountryList?[t.sourceOfFundsCountryList]:null,children:e(k,{dictType:"SOURCE_OF_FUNDS_COUNTRY_LIST",placeholder:l("apply_form_please_choose")})}),e(o.Item,{name:"sourceOfWealthList",label:e(i,{id:"apply_form_source_of_wealth_title"}),rules:[{required:!0}],initialValue:t.sourceOfWealthList?[t.sourceOfWealthList]:null,children:e(ce,{dictType:"SOURCE_OF_WEALTH_LIST",placeholder:l("apply_form_please_choose")})}),t.isAlien==="0"&&e(o.Item,{name:"empPassExpiryDate",label:e(i,{id:"apply_form_employment_pass_expiry"}),trigger:"onConfirm",onClick:(r,s)=>{var d;(d=s.current)==null||d.open()},rules:[{required:!0}],initialValue:t.empPassExpiryDate?new Date(t.empPassExpiryDate):void 0,children:e(te,{children:r=>e("div",{className:`adm-input ${r?"text-default":"text-minor"}`,children:r?e(M,{value:r}):l("apply_form_please_enter")+l("apply_form_employment_pass_expiry")})})})]})}):e(F,{})}),Xe=t=>t?`${parseInt(`${(Number(t)||0)/100}`)}`:"",et=b.memo(()=>{var m;const{manualData:t,appliedCards:r}=O(h=>h.cardApply),s=r[0]&&((m=r[0].productList[0])==null?void 0:m.fixedLimit)==="1",{showCardNameMaskOnCardFlag:d}=O(h=>h.user);return t?a("div",{children:[!s&&e(v,{headerClassName:"px-5",title:e("div",{children:e(p,{id:"apply_form_credit_lit_preference"})}),className:"p-0 rounded-lg",children:a(C,{direction:"vertical",block:!0,className:"px-5",children:[e(o.Item,{name:"determineLimitFlag",rules:[{required:!0}],initialValue:"Y",children:e(V.Group,{children:a(C,{direction:"vertical",children:[e(V,{value:"Y",children:e(i,{id:"apply_form_let_dcs_determine"})}),e(V,{value:"N",children:e(i,{id:"apply_form_set_my_preferred_limit"})})]})})}),e(o.Subscribe,{to:["determineLimitFlag"],children:({determineLimitFlag:h})=>{if(console.log("determineLimitFlag",h),h!=="Y")return a("div",{className:"mt-10",children:[e(o.Item,{name:"preCreditLimit",rules:[{required:!0}],initialValue:1,children:e(Me,{residentPopover:!0,step:1,max:150,min:1,popover:x=>e("span",{children:x*1e3}),icon:e(tt,{})})}),a("div",{className:"flex justify-between text-xs",children:[e("span",{children:"S$ 1,000"}),e("span",{children:"S$ 150,000"})]}),e(p,{className:"text-xs text-minor mx-6 my-6 text-center",id:"apply_form_credit_limit_tip"})]})}})]})}),e(v,{headerClassName:"px-5 ",title:e("div",{children:e(p,{id:"apply_form_name_on_card"})}),className:"p-0 rounded-lg mt-4",children:a("div",{className:"px-5",children:[e(o.Item,{name:"preNameOnCard",label:e(i,{id:"apply_form_embossed_name"}),rules:[{required:!0}],initialValue:t==null?void 0:t.preNameOnCard,children:e(g,{maxLength:19,minLength:2,disabled:!0,autoCapitalize:"characters"})}),r.map(h=>a("div",{className:"mt-5 relative",children:[e(je,{src:h.channelCardShowImage,alt:h.channelCardName}),e("span",{style:{position:"absolute",bottom:0,left:0},className:"text-base font-medium text-white pl-5 pb-5",children:d?t==null?void 0:t.preNameOnCard:""})]},h.channelCreditCardId))]})})]}):e(F,{})}),tt=()=>a("svg",{width:"38",height:"18",viewBox:"0 0 38 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{x:"0.5",y:"0.5",width:"37",height:"17",rx:"8.5",fill:"#3366FF",stroke:"#E3FAFF"}),e("rect",{x:"16",y:"4",width:"10",height:"2",rx:"1",transform:"rotate(90 16 4)",fill:"#ACF0FF"}),e("rect",{x:"20",y:"4",width:"10",height:"2",rx:"1",transform:"rotate(90 20 4)",fill:"#ACF0FF"}),e("rect",{x:"24",y:"4",width:"10",height:"2",rx:"1",transform:"rotate(90 24 4)",fill:"#ACF0FF"})]}),rt=b.memo(()=>{var r;const{manualData:t}=O(s=>s.cardApply);return t?a("div",{children:[e(v,{title:a("div",{children:[e(i,{id:"apply_form_residential_addr"}),e(p,{className:"font-normal text-xs text-minor",id:"apply_upgrade_header_tip"})]}),className:"p-0 rounded-lg shadow-lg bg-white",headerClassName:"px-5",children:a("div",{className:"px-5",children:[e(o.Item,{name:["residentAddress","country"],label:e(i,{id:"apply_form_property_country"}),rules:[{required:!0}],initialValue:((r=t.residentAddress)==null?void 0:r.country)||"SG",normalize:s=>s[0],children:e(k,{dictType:"COUNTRY_CODE_ISO2"})}),e(o.Subscribe,{to:["residentAddress","country"],children:({residentAddress:s})=>{var d,m,h,x,n,c,_;return(s==null?void 0:s.country)==="SG"?a(F,{children:[e(o.Item,{name:["residentAddress","postal"],label:e(i,{id:"apply_form_postal_code"}),rules:[{required:!0},{pattern:/^[0-9]{6,6}$/,message:l("rule_digits",{string:6})}],initialValue:(d=t.residentAddress)==null?void 0:d.postal,children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_postal_code")})}),e(o.Item,{name:["residentAddress","street"],label:e(i,{id:"apply_form_street_name"}),rules:[{required:!0},{pattern:/^[\w\s]{1,66}$/,message:l("rule_alphabets_numbers_spaces")}],initialValue:(m=t.residentAddress)==null?void 0:m.street,children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_street_name")})}),e(o.Item,{name:["residentAddress","block"],label:e(i,{id:"apply_form_block"}),rules:[{required:!0},{pattern:/^[\w\s]{1,10}$/,message:l("rule_characters",{string:"1-10"})}],initialValue:(h=t.residentAddress)==null?void 0:h.block,children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_block")})}),e(o.Item,{name:["residentAddress","floor"],label:e(i,{id:"apply_upgrade_floor_name"}),rules:[{required:!0},{pattern:/^[A-Za-z0-9]{1,5}$/,message:l("rule_characters",{string:"1-5"})}],initialValue:(x=t.residentAddress)==null?void 0:x.floor,help:e(i,{id:"apply_upgrade_input_tip"}),children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_upgrade_floor_name")})}),e(o.Item,{name:["residentAddress","unit"],label:e(i,{id:"apply_form_unit"}),rules:[{required:!0},{pattern:/^[0-9]{1,5}$/,message:l("rule_digits",{string:"1-5"})}],initialValue:(n=t.residentAddress)==null?void 0:n.unit,help:e(i,{id:"apply_upgrade_input_tip2"}),children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_unit")})}),e(o.Item,{name:["residentAddress","building"],label:e(i,{id:"apply_form_building"}),rules:[{pattern:/^[\w\s]{1,66}$/,message:l("rule_alphabets_numbers_spaces")}],initialValue:(c=t.residentAddress)==null?void 0:c.building,children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_building")})})]}):e(o.Item,{name:["residentAddress","line1"],label:e(i,{id:"apply_form_permanent_home_addr"}),rules:[{required:!0},{pattern:/^[\w\s-]*$/,message:l("rule_alphabets_numbers_spaces")}],initialValue:(_=t.residentAddress)==null?void 0:_.line1,children:e(me,{showCount:!0,maxLength:200,placeholder:l("apply_form_please_enter")+l("apply_form_permanent_home_addr")})})}})]})}),e(v,{title:a("div",{children:[e(i,{id:"apply_form_mailing_addr"}),e(p,{className:"font-normal text-xs text-minor",id:"apply_upgrade_mailing_address_tip1"}),e(p,{className:"font-normal text-xs text-minor",id:"apply_upgrade_mailing_address_tip3"})]}),className:"mt-5 p-0 rounded-lg shadow-lg bg-white",headerClassName:"px-5",children:a(C,{direction:"vertical",className:"px-5",block:!0,children:[e(o.Item,{initialValue:t.sameResidentialFlag||"Y",name:"sameResidentialFlag",rules:[{required:!0}],children:e(V.Group,{children:a(C,{children:[e(V,{value:"Y",children:e(i,{id:"apply_form_same_as_residential_addr"})}),e(V,{value:"N",children:e(i,{id:"apply_upgrade_other_addresses"})})]})})}),e(o.Subscribe,{to:["sameResidentialFlag"],children:({sameResidentialFlag:s})=>{var d;if(console.log("sameResidentialFlag",s),s!=="Y")return a(F,{children:[e(o.Item,{name:["billingAddress","country"],label:e(i,{id:"apply_form_property_country"}),rules:[{required:!0}],initialValue:((d=t.billingAddress)==null?void 0:d.country)||"SG",normalize:m=>m[0],children:e(k,{dictType:"COUNTRY_CODE_ISO2"})}),e(o.Subscribe,{to:["billingAddress","country"],children:({billingAddress:m})=>{var h,x,n,c,_,N,w;return console.log("billingAddress.country",m),(m==null?void 0:m.country)==="SG"?a(F,{children:[e(o.Item,{name:["billingAddress","postal"],label:e(i,{id:"apply_form_postal_code"}),rules:[{required:!0},{pattern:/^[0-9]{6,6}$/,message:l("rule_digits",{string:6})}],initialValue:(h=t.billingAddress)==null?void 0:h.postal,children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_postal_code")})}),e(o.Item,{name:["billingAddress","street"],label:e(i,{id:"apply_form_street_name"}),rules:[{required:!0},{pattern:/^[\w\s]{1,66}$/,message:l("rule_alphabets_numbers_spaces")}],initialValue:(x=t.billingAddress)==null?void 0:x.street,children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_street_name")})}),e(o.Item,{name:["billingAddress","block"],label:e(i,{id:"apply_form_block"}),rules:[{required:!0},{pattern:/^[\w\s]{1,10}$/,message:l("rule_characters",{string:"1-10"})}],initialValue:(n=t.billingAddress)==null?void 0:n.block,children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_block")})}),e(o.Item,{name:["billingAddress","floor"],label:e(i,{id:"apply_upgrade_floor_name"}),rules:[{required:!0},{pattern:/^[A-Za-z0-9]{1,5}$/,message:l("rule_characters",{string:"1-5"})}],initialValue:(c=t.billingAddress)==null?void 0:c.floor,help:e(i,{id:"apply_upgrade_input_tip"}),children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_upgrade_floor_name")})}),e(o.Item,{name:["billingAddress","unit"],label:e(i,{id:"apply_form_unit"}),rules:[{required:!0},{pattern:/^[0-9]{1,5}$/,message:l("rule_digits",{string:"1-5"})}],initialValue:(_=t.billingAddress)==null?void 0:_.unit,help:e(i,{id:"apply_upgrade_input_tip2"}),children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_unit")})}),e(o.Item,{name:["billingAddress","building"],label:e(i,{id:"apply_form_building"}),rules:[{pattern:/^[\w\s]{1,66}$/,message:l("rule_alphabets_numbers_spaces")}],initialValue:(N=t.billingAddress)==null?void 0:N.building,children:e(g,{placeholder:l("apply_form_please_enter")+l("apply_form_building")})})]}):m!=null&&m.country?e(o.Item,{name:["billingAddress","line1"],label:e(i,{id:"apply_form_permanent_home_addr"}),rules:[{required:!0},{pattern:/^[\w\s-]*$/,message:l("rule_alphabets_numbers_spaces")}],initialValue:(w=t.billingAddress)==null?void 0:w.line1,children:e(me,{showCount:!0,maxLength:200,placeholder:l("apply_form_please_enter")+l("apply_form_permanent_home_addr")})}):e(F,{})}})]})}})]})})]}):e(F,{})}),lt=b.memo(()=>{const{manualData:t,appliedCards:r}=O(d=>d.cardApply),s=b.useMemo(()=>{var d;return r[0]&&((d=r[0].productList[0])==null?void 0:d.tenCardsFlag)},[r]);return t?a("div",{className:"pt-3",children:[e(p,{id:"apply_guide_other_tip1",className:"text-minor text-xs"}),e(p,{id:"apply_guide_other_tip2",className:"text-minor text-xs my-2"}),e(v,{headerClassName:"px-5",title:e("div",{children:e(p,{id:"apply_upgrade_occupation_income"})}),className:"p-0 rounded-lg",children:a(C,{direction:"vertical",block:!0,style:{background:"rgb(246, 248, 251)"},children:[t.isAlien==="0"?e(o.Item,{className:"upload-box",name:"passportFiles",required:!0,label:a("div",{children:[e(p,{className:"font-bold text-sm mb-2",id:"apply_guide_passport"}),e(p,{className:"text-minor text-xs mb-2",id:"apply_guide_passport_tip"})]}),children:e(j,{attachedType:7})}):e(o.Item,{className:"upload-box",name:"identityFiles",required:!0,label:a("div",{children:[e(p,{className:"font-bold text-sm mb-2",id:"apply_manual_upload_your_id_document"}),e(p,{className:"text-minor text-xs mb-2",id:"apply_guide_id_tip"})]}),children:e(j,{attachedType:1,maxCount:2})}),!s&&a(C,{direction:"vertical",block:!0,style:{background:"rgb(246, 248, 251)"},children:[e(o.Item,{name:"incomeProofFiles",required:!0,label:a("div",{children:[e(p,{className:"font-bold text-sm mb-2",id:"apply_manual_upload_incomeProofFiles"}),e(p,{className:"text-minor text-xs mb-2",id:"apply_guide_proof_income_tip"})]}),className:"upload-box",children:e(j,{attachedType:2})}),e(o.Item,{className:"upload-box",name:"addressProofFiles",required:!0,label:a("div",{className:"",children:[e(p,{className:"font-bold text-sm mb-2",id:"apply_manual_upload_addressProofFiles"}),t.isAlien==="1"&&e(p,{className:"text-minor text-xs",id:"apply_guide_proof_address_tip1"}),e(p,{className:"text-minor text-xs mb-2",id:"apply_guide_proof_address_tip2"})]}),children:e(j,{attachedType:3})}),t.profession==="1191"&&e(o.Item,{className:"upload-box",name:"studentIdFiles",required:!0,label:e("div",{children:e(p,{className:"font-bold text-sm mb-2",id:"apply_manual_upload_studentIdFiles"})}),children:e(j,{attachedType:4})}),Number(t.age)<21&&e(o.Item,{className:"upload-box",name:"parentConsentFiles",required:!0,label:a("div",{className:"",children:[e(p,{className:"font-bold text-sm mb-2",id:"apply_manual_upload_parentConsentFiles"}),a("p",{className:"text-minor text-xs mb-2",children:[e(i,{id:"apply_guide_parent_example"}),e("a",{className:"text-blue underline ml-2",href:"https://d17qh48k9885fj.cloudfront.net/dcs-public/app/rn/parent-consent-download.pdf",children:l("apply_guide_download")})]})]}),children:e(j,{attachedType:5})})]}),e(o.Item,{className:"upload-box",name:"otherDetailsFiles",required:!0,label:a("div",{children:[e(p,{className:"font-bold text-sm mb-2",id:"apply_manual_upload_otherDetailsFiles"}),e(p,{className:"text-minor text-xs mb-2",id:"apply_guide_upload_other_tip"})]}),children:e(j,{attachedType:6})})]})})]}):e(F,{})}),Ct=b.memo(()=>{const t=fe(),r=_e(),[s]=o.useForm();Ee();const[d]=$e(),m=Pe(),{phoneNumber:h,areaCode:x}=O(y=>y.user.userInfo)||{},{appliedCardsFlat:n,channelApplyNo:c,applyExtraParms:_,appliedCards:N,manualData:w}=O(y=>y.cardApply),q=O(y=>y.app.locale),[R,z]=b.useState(),[I,ye]=b.useState(parseInt(m.id||"")),[xe,re]=b.useState(!0),[be,Z]=b.useState(!1),[le,J]=b.useState(!1),ae=b.useMemo(()=>{var y;return N[0]&&((y=N[0].productList[0])==null?void 0:y.tenCardsFlag)},[N]),ge=(y,u)=>(s.setFieldValue("otp",y),s.setFieldValue("otpPrefix",u),K(s.getFieldsValue(!0),!0)),K=b.useCallback((y,u)=>Q(void 0,null,function*(){Z(!0);const f=$({stepNo:I+1,channelApplyNo:c,myinfoApplyNo:"",applicationType:3,cardAndProductList:n,mobile:void 0},Ce(I,y));if(!u&&f.stepNo===1&&f.mobile!==`${x} ${h}`)return Z(!1),J(!0);try{const L=yield Y("/dcs-apply-online/card/apply/login/saveApplication/manual/v2",f);if(!L)return;if(console.log("params.stepNo",m.id,I,ae),L.applyCardsFlag){z(L.applyCards);return}if(z(void 0),J(!1),r(Ve(L.channelApplyNo)),f.stepNo===6)yield Y("/dcs-apply-online/card/apply/login/sumbitApplication/v5",oe($({},_),{channelApplyNo:c,myinfoApplyNo:"",applicationType:3})),t("/demotion-card");else if(m.id==="2-1")t("/manual/2-2");else{const{back:U}=Object.fromEntries(d.entries());if(U)return t(-1);t(`/manual/${I+1}${I===1?ae?"-2":"-1":""}`)}}catch(L){return Promise.reject()}finally{Z(!1)}}),[I,le,n,c]),Ne=()=>Q(void 0,null,function*(){re(!0),console.log("init - channelApplyNo",c);let y=$({},w);try{if(c){const u=yield Y("/dcs-apply-online/card/apply/login/queryApplicationbyStep/v4",{channelApplyNo:c,myinfoApplyNo:"",applicationType:3,cardAndProductList:n});y=Object.assign(y,u)}if(!c&&I===0){const u=yield Y("/dcs-apply-online/card/apply/login/queryLastestApplication",{applicationType:3});if(console.log("res1",u),u!=null&&u.channelApplyNo){const f=yield Y("/dcs-apply-online/card/apply/login/queryApplicationbyStep/v4",{channelApplyNo:u.channelApplyNo,myinfoApplyNo:"",applicationType:3,cardAndProductList:n});f&&(y=at(f))}}}catch(u){}return re(!1),y.residentialStatus=y.residentialStatus||(q==="en-SG"?"C":"A"),y.isAlien=["C","P"].includes(y.residentialStatus||"")?"1":"0",y.homeCountryIdType=y.homeCountryIdType!==void 0?String(y.homeCountryIdType):void 0,r(he(y)),y}),Ce=(y,u)=>{var L,U;const f=$({},u);return Object.keys(u).forEach(T=>{u[T]&&typeof u[T]=="string"&&(f[T]=u[T].toLocaleUpperCase())}),y===0?(console.log("manualData?.residentialStatus",w==null?void 0:w.residentialStatus),f.cardIssuer="G",f.salesStaff=(_==null?void 0:_.staff_id)||"",f.location=(_==null?void 0:_.location)||"",f.mobile=`${(L=u.mobile)==null?void 0:L.areaCode} ${(U=u.mobile)==null?void 0:U.phone}`,f.homeCountryIdType=u.homeCountryIdType?u.homeCountryIdType[0]:"",f.passportExpiryDate=u.passportExpiryDate?ee(u.passportExpiryDate).format("YYYY-MM-DD"):void 0,f.birthDate=ee(u.birthDate).format("YYYY-MM-DD"),f.residentialStatus=w==null?void 0:w.residentialStatus):y===1?f.billingAddress=u.billingAddress||u.residentAddress:y===2?(m.id==="2-1"?(f.incomeYear=it(u.incomeYear),f.selfEmployment=u.selfEmployment?"Y":"N",f.serviceYears=u.yearsWorking[0],f.serviceMonths=u.yearsWorking[1],f.stepNo=3):m.id==="2-2"&&(Object.keys(u).forEach(T=>{f[T]=u[T].map(we=>we.extra)}),f.stepNo=4),u.jobSeniorityList&&(f.jobSeniorityList=[u.jobSeniorityList]),u.purposeOfAccountList&&(f.purposeOfAccountList=[u.purposeOfAccountList]),u.sourceOfFundsCountryList&&(f.sourceOfFundsCountryList=[u.sourceOfFundsCountryList])):y===4&&(f.pdpaFlag=u.pdpaFlag?"Y":"N",f.usaTaxResident=u.usaTaxResident?"Y":"N",f.dncFlag=u.dncFlag?"Y":"N",f.stepNo=6),console.log("getParms",y,f),f};return b.useEffect(()=>{Ne(),m.id&&ye(parseInt(m.id))},[m]),a("div",{children:[I<4&&a(D,{current:I,className:"bg-white ",children:[e(D.Step,{title:l("apply_upgrade_personal_info")}),e(D.Step,{title:l("apply_upgrade_address_info")}),e(D.Step,{title:l("apply_upgrade_other_info")}),e(D.Step,{title:l("apply_form_card_personalization")})]}),e(o,{className:"m-3 border-0",form:s,onFinish:K,requiredMarkStyle:"text-optional",footer:e(P,{block:!0,type:"submit",color:"primary",size:"large",shape:"rounded",loading:be,children:e(i,{id:I===6?"common_submit":"common_next"})}),children:xe?e(qe.Paragraph,{lineCount:20,animated:!0}):a(F,{children:[I===0&&e(Ze,{}),I===1&&e(rt,{}),m.id==="2-1"&&e(Qe,{}),m.id==="2-2"&&e(lt,{}),I===3&&e(et,{}),I===4&&e(Je,{})]})}),e(De,{show:le,onConfirm:ge,onClose:()=>J(!1)}),e(ze,{open:!0,setOpen:()=>null,applyCards:R,onOk:()=>K(s.getFieldsValue(!0),!0)})]})}),at=t=>(t!=null&&t.identityFiles&&delete t.identityFiles,t!=null&&t.incomeProofFiles&&delete t.incomeProofFiles,t!=null&&t.addressProofFiles&&delete t.addressProofFiles,t!=null&&t.studentIdFiles&&delete t.studentIdFiles,t!=null&&t.parentConsentFiles&&delete t.parentConsentFiles,t!=null&&t.otherDetailsFiles&&delete t.otherDetailsFiles,t!=null&&t.passportFiles&&delete t.passportFiles,t!=null&&t.preCreditLimit&&delete t.preCreditLimit,t),it=t=>{if(t)return`${parseInt(`${(Number(t)||0)*100}`)}`};export{Ct as default};
