import{aX as K,aP as O,r as M,a6 as Q,b0 as Y,a7 as Z,aD as N,b1 as ee,aa as F,a5 as c,aF as w,a9 as g,b2 as te,aE as z,az as se}from"./index-6701bc4a.js";import{u as ae}from"./index-1965719a.js";function re(o,n){const t=K(o);O(()=>{const a=n.current;if(a)if(window.ResizeObserver){let f;const m=new ResizeObserver(()=>{f=window.requestAnimationFrame(()=>t(a))});return m.observe(a),()=>{window.cancelAnimationFrame(f),m.disconnect()}}else t(a)},[n])}function ie(o,n,t){if(o&&typeof MutationObserver!="undefined"){let a=new MutationObserver(()=>{t()});return a.observe(o,n),()=>{a&&(a.disconnect(),a=null)}}return()=>{}}function ne(o,n,t){const a=K(o);M.useEffect(()=>ie(n.current,t,a),[n])}const i="adm-tabs",ce=()=>null,oe={activeLineMode:"auto",stretch:!0,direction:"ltr"},le=o=>{var n;const t=Q(oe,o),a=M.useRef(null),f=M.useRef(null),m={};let A=null;const E=[],W=t.direction==="rtl";Y(t.children,(e,s)=>{if(!M.isValidElement(e))return;const r=e.key;if(typeof r!="string")return;s===0&&(A=r);const l=E.push(e);m[r]=l-1});const[p,I]=Z({value:t.activeKey,defaultValue:(n=t.defaultActiveKey)!==null&&n!==void 0?n:A,onChange:e=>{var s;e!==null&&((s=t.onChange)===null||s===void 0||s.call(t,e))}}),[{x:h,width:D},S]=N(()=>({x:0,width:0,config:{tension:300,clamp:!0}})),[{scrollLeft:V},_]=N(()=>({scrollLeft:0,config:{tension:300,clamp:!0}})),[{leftMaskOpacity:q,rightMaskOpacity:U},X]=N(()=>({leftMaskOpacity:0,rightMaskOpacity:0,config:{clamp:!0}}));function v(e=!1,s=!1){const r=a.current;if(!r)return;const l=m[p];if(l===void 0){S.start({x:0,width:0,immediate:!0});return}const d=f.current;if(!d)return;const x=r.children.item(l+1),P=x.children.item(0),b=P.offsetLeft,y=P.offsetWidth,j=x.offsetLeft,B=x.offsetWidth,k=r.offsetWidth,G=r.scrollWidth,H=r.scrollLeft,T=d.offsetWidth;let u=0,L=0;if(t.activeLineMode==="auto"?(u=b,L=y):t.activeLineMode==="full"?(u=j,L=B):u=b+(y-T)/2,W){const J=["auto","full"].includes(t.activeLineMode)?L:T;u=-(k-u-J)}S.start({x:u,width:L,immediate:e});const $=G-k;if($<=0)return;let R=0;W?R=-z(k/2-b+y/2-T,0,$):R=z(b-(k-y)/2,0,$),(!s||t.autoScroll!==!1)&&_.start({scrollLeft:R,from:{scrollLeft:H},immediate:e})}O(()=>{v(!h.isAnimating)},[]),ee(()=>{v()},[p]),re(()=>{v(!h.isAnimating)},a),ne(()=>{v(!h.isAnimating,!0)},a,{subtree:!0,childList:!0,characterData:!0});const{run:C}=ae((e=!1)=>{const s=a.current;if(!s)return;const r=s.scrollLeft;let l=!1,d=!1;W?(l=Math.round(-r)+s.offsetWidth<s.scrollWidth,d=r<0):(l=r>0,d=r+s.offsetWidth<s.scrollWidth),X.start({leftMaskOpacity:l?1:0,rightMaskOpacity:d?1:0,immediate:e})},{wait:100,trailing:!0,leading:!0});return O(()=>{C(!0)},[]),F(t,c.createElement("div",{className:i,style:{direction:t.direction}},c.createElement("div",{className:`${i}-header`},c.createElement(w.div,{className:g(`${i}-header-mask`,`${i}-header-mask-left`),style:{opacity:q}}),c.createElement(w.div,{className:g(`${i}-header-mask`,`${i}-header-mask-right`),style:{opacity:U}}),c.createElement(w.div,{className:`${i}-tab-list`,ref:a,scrollLeft:V,onScroll:C,role:"tablist"},c.createElement(w.div,{ref:f,className:`${i}-tab-line`,style:{width:t.activeLineMode==="fixed"?"var(--fixed-active-line-width, 30px)":D,x:h}}),E.map(e=>F(e.props,c.createElement("div",{key:e.key,className:g(`${i}-tab-wrapper`,{[`${i}-tab-wrapper-stretch`]:t.stretch})},c.createElement("div",{onClick:()=>{const{key:s}=e;e.props.disabled||s!=null&&I(s.toString())},className:g(`${i}-tab`,{[`${i}-tab-active`]:e.key===p,[`${i}-tab-disabled`]:e.props.disabled}),role:"tab","aria-selected":e.key===p},e.props.title)))))),E.map(e=>{if(e.props.children===void 0)return null;const s=e.key===p;return c.createElement(te,{key:e.key,active:s,forceRender:e.props.forceRender,destroyOnClose:e.props.destroyOnClose},c.createElement("div",{className:`${i}-content`,style:{display:s?"block":"none"}},e.props.children))})))},ue=se(le,{Tab:ce});export{ue as T};
